import{c as N,a as w,f as v,r as l,j as e,U as k}from"./index-CZK59VbI.js";import{A as C}from"./arrow-right-Cl1O3793.js";import{M as E}from"./mail-DYmpf4TB.js";import{L as S}from"./lock-Dm8IC8cU.js";import{E as A}from"./eye-qYqIMAXM.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],M=N("eye-off",L),D=({initialView:s,onLoginSuccess:n,onBack:u,onToggleView:p,onVerificationRequired:d})=>{const{login:f}=w(),i=v(),[o,b]=l.useState(!1),[m,a]=l.useState(!1),[r,g]=l.useState(""),[x,j]=l.useState(""),y=async t=>{if(t.preventDefault(),a(!0),s==="login")try{await f(r,x)?n():(a(!1),i.error("بيانات الدخول غير صحيحة"))}catch(h){a(!1);const c=h;c.needsVerification&&d?d(c.email||r):i.error(c.messageAr||"حدث خطأ أثناء تسجيل الدخول")}else setTimeout(()=>{a(!1),r.toLowerCase().includes("admin"),n()},1500)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-[2.5rem] relative overflow-hidden animate-fade-in border border-white/20 shadow-2xl",children:[e.jsxs("button",{onClick:u,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors flex items-center gap-1 text-sm",children:[e.jsx(C,{className:"w-4 h-4"}),e.jsx("span",{children:"العودة"})]}),e.jsxs("div",{className:"text-center mb-8 mt-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s==="login"?"أهلاً بعودتك":"انضم إلينا"}),e.jsx("p",{className:"text-gray-400 text-sm",children:s==="login"?"استكمل رحلتك المعرفية في المصطبة العلمية":"ابدأ رحلة العلم والبناء المعرفي اليوم"})]}),e.jsxs("form",{onSubmit:y,className:"space-y-4",children:[s==="signup"&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"الاسم الكامل"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"أحمد محمد",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(k,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:r,onChange:t=>g(t.target.value),placeholder:"name@example.com (use 'admin' for admin view)",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(E,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:o?"text":"password",value:x,onChange:t=>j(t.target.value),placeholder:"••••••••",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-12 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(S,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"}),e.jsx("button",{type:"button",onClick:()=>b(!o),className:"absolute left-4 top-3.5 text-gray-400 hover:text-white focus:outline-none",children:o?e.jsx(M,{className:"w-5 h-5"}):e.jsx(A,{className:"w-5 h-5"})})]})]}),s==="login"&&e.jsxs("div",{className:"flex items-center justify-between text-xs pt-1",children:[e.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-pointer hover:text-gray-300",children:[e.jsxs("div",{className:"w-4 h-4 rounded border border-gray-600 flex items-center justify-center peer-checked:bg-emerald-500 peer-checked:border-emerald-500",children:[e.jsx("input",{type:"checkbox",className:"hidden"}),e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-sm"})]}),e.jsx("span",{children:"تذكرني"})]}),e.jsx("a",{href:"#",className:"text-gold-500 hover:text-gold-400",children:"نسيت كلمة المرور؟"})]}),e.jsx("button",{type:"submit",disabled:m,className:"w-full py-4 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-bold shadow-lg shadow-emerald-900/20 mt-4 transition-all hover:scale-[1.01] flex items-center justify-center gap-2",children:m?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx("span",{children:s==="login"?"تسجيل الدخول":"إنشاء حساب"})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:[s==="login"?"ليس لديك حساب؟":"لديك حساب بالفعل؟",e.jsx("button",{onClick:()=>p(s==="login"?"signup":"login"),className:"text-emerald-400 hover:text-emerald-300 font-bold mr-2 underline decoration-emerald-500/30 underline-offset-4",children:s==="login"?"سجل الآن":"سجل دخولك"})]})})]})})};export{D as default};
