import{u,r as a,j as e,S as f,g as b,D as p}from"./index-PO4O9_Fr.js";import{B as g}from"./book-BSKb7tQp.js";const y=()=>{const{t:r,language:i}=u(),[l,d]=a.useState(""),[c,n]=a.useState([]),[x,h]=a.useState(!0);a.useEffect(()=>{(async()=>{try{const s=await fetch("http://localhost:5000/api/books");if(s.ok){const m=await s.json();n(m)}}catch(s){console.error("Error fetching library books:",s)}finally{h(!1)}})()},[]);const o=c.filter(t=>t.title.toLowerCase().includes(l.toLowerCase())||t.courseTitle&&t.courseTitle.toLowerCase().includes(l.toLowerCase()));return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-end md:items-center mb-8 gap-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:r("library.title")}),e.jsx("p",{className:"text-gray-400",children:r("library.subtitle")})]}),e.jsx("div",{className:"flex gap-3 w-full md:w-auto",children:e.jsxs("div",{className:"relative flex-1 md:w-64",children:[e.jsx("input",{type:"text",placeholder:r("library.searchPlaceholder"),value:l,onChange:t=>d(t.target.value),className:"w-full bg-black/20 border border-white/10 rounded-xl py-2.5 pr-10 pl-4 text-sm focus:outline-none focus:border-emerald-500/50 text-white placeholder-gray-500"}),e.jsx(f,{className:`absolute ${i==="ar"?"right-3":"left-3"} top-2.5 text-gray-400 w-5 h-5`})]})})]}),x?e.jsx("div",{className:"text-center py-20 text-gray-500",children:"جاري التحميل..."}):o.length===0?e.jsx("div",{className:"text-center py-20 text-gray-500",children:"لا توجد كتب في المكتبة حالياً"}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:o.map(t=>e.jsxs("div",{className:"glass-panel p-5 rounded-2xl group hover:border-emerald-500/30 transition-all duration-300 flex flex-col",children:[e.jsxs("div",{className:"h-40 rounded-xl mb-4 relative overflow-hidden bg-gradient-to-br from-[#0f2e2a] to-[#0a1815] flex items-center justify-center border border-white/5",children:[e.jsx(b,{className:"w-16 h-16 text-emerald-800/40 group-hover:text-emerald-500/20 transition-colors"}),e.jsx("div",{className:"absolute inset-x-0 bottom-0 top-auto h-full bg-gradient-to-t from-black/80 to-transparent opacity-60"}),e.jsx("div",{className:"absolute bottom-2 right-2 bg-black/50 backdrop-blur-sm rounded-full p-2 border border-white/10",children:e.jsx(g,{className:"w-4 h-4 text-emerald-400"})})]}),e.jsx("h3",{className:"font-bold text-white mb-1 truncate text-lg",title:t.title,children:t.title}),e.jsx("p",{className:"text-xs text-emerald-400/80 mb-4 bg-emerald-500/10 w-fit px-2 py-0.5 rounded-full border border-emerald-500/10",children:t.courseTitle?`مساق: ${t.courseTitle}`:"كتاب عام"}),e.jsx("div",{className:"mt-auto border-t border-white/5 pt-3",children:e.jsxs("a",{href:`https://pub-7ec5f52937cb4e729e07ecf35b1cf007.r2.dev/Books/${t.path}`,target:"_blank",rel:"noopener noreferrer",className:"flex items-center justify-center gap-2 w-full py-2 bg-white/5 hover:bg-emerald-600 hover:text-white text-emerald-400 rounded-xl text-sm font-bold transition-all",download:!0,children:[e.jsx(p,{className:"w-4 h-4"}),r("library.download")]})})]},t.id))})]})};export{y as default};
