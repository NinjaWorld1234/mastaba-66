import{u as C,r as d,j as e,U as P,h as S,G as L,b as k}from"./index-DxtxfBR5.js";import{C as c,a as m}from"./chevron-right-B0AZ0Nna.js";import{M as E}from"./mail-B4YN45Tv.js";import{P as I}from"./phone-CI1trSgE.js";import{G as A}from"./globe-CcfRri47.js";import{L as g}from"./lock-cwOipuek.js";import{L as X}from"./loader-circle-BVZveIJI.js";const F=[{ar:"مصر",en:"Egypt"},{ar:"السعودية",en:"Saudi Arabia"},{ar:"الإمارات",en:"UAE"},{ar:"الكويت",en:"Kuwait"},{ar:"قطر",en:"Qatar"},{ar:"البحرين",en:"Bahrain"},{ar:"عمان",en:"Oman"},{ar:"الأردن",en:"Jordan"},{ar:"لبنان",en:"Lebanon"},{ar:"سوريا",en:"Syria"},{ar:"العراق",en:"Iraq"},{ar:"فلسطين",en:"Palestine"},{ar:"اليمن",en:"Yemen"},{ar:"ليبيا",en:"Libya"},{ar:"تونس",en:"Tunisia"},{ar:"الجزائر",en:"Algeria"},{ar:"المغرب",en:"Morocco"},{ar:"السودان",en:"Sudan"},{ar:"الصومال",en:"Somalia"},{ar:"تركيا",en:"Turkey"},{ar:"ماليزيا",en:"Malaysia"},{ar:"إندونيسيا",en:"Indonesia"},{ar:"باكستان",en:"Pakistan"},{ar:"الهند",en:"India"},{ar:"بريطانيا",en:"United Kingdom"},{ar:"أمريكا",en:"United States"},{ar:"كندا",en:"Canada"},{ar:"أستراليا",en:"Australia"},{ar:"ألمانيا",en:"Germany"},{ar:"فرنسا",en:"France"},{ar:"أخرى",en:"Other"}],R=[{ar:"ابتدائي",en:"Primary"},{ar:"متوسط",en:"Middle School"},{ar:"ثانوي",en:"High School"},{ar:"جامعي",en:"University"},{ar:"دراسات عليا",en:"Postgraduate"},{ar:"أخرى",en:"Other"}],J=({onBack:b,onSuccess:f})=>{const{language:a,t:U}=C(),[o,x]=d.useState(1),[h,u]=d.useState(!1),[p,t]=d.useState(""),[r,y]=d.useState({name:"",nameEn:"",email:"",password:"",confirmPassword:"",whatsapp:"",country:"",age:"",gender:"",educationLevel:""}),l=(s,n)=>{y(i=>({...i,[s]:n})),t("")},j=()=>r.name.trim()?!r.email.trim()||!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r.email)?(t(a==="ar"?"يرجى إدخال بريد إلكتروني صحيح":"Please enter a valid email"),!1):r.whatsapp.trim()?r.country?!0:(t(a==="ar"?"يرجى اختيار الدولة":"Please select your country"),!1):(t(a==="ar"?"يرجى إدخال رقم الواتساب":"Please enter your WhatsApp number"),!1):(t(a==="ar"?"يرجى إدخال الاسم":"Please enter your name"),!1),w=()=>!r.age||parseInt(r.age)<5||parseInt(r.age)>100?(t(a==="ar"?"يرجى إدخال عمر صحيح":"Please enter a valid age"),!1):r.gender?r.educationLevel?!r.password||r.password.length<6?(t(a==="ar"?"كلمة المرور يجب أن تكون 6 أحرف على الأقل":"Password must be at least 6 characters"),!1):r.password!==r.confirmPassword?(t(a==="ar"?"كلمتا المرور غير متطابقتين":"Passwords do not match"),!1):!0:(t(a==="ar"?"يرجى اختيار المستوى التعليمي":"Please select education level"),!1):(t(a==="ar"?"يرجى اختيار الجنس":"Please select your gender"),!1),v=()=>{o===1&&j()&&x(2)},N=async s=>{if(s.preventDefault(),!!w()){u(!0),t("");try{const{user:n,error:i}=await k.register({email:r.email,password:r.password,name:r.name,nameEn:r.nameEn||r.name,whatsapp:r.whatsapp,country:r.country,age:parseInt(r.age),gender:r.gender,educationLevel:r.educationLevel});if(i)throw new Error(a==="ar"?i.message||"فشل التسجيل":i.message||"Registration failed");localStorage.setItem("pendingVerificationEmail",r.email),f(r.email)}catch(n){t(n instanceof Error?n.message:"Registration failed")}finally{u(!1)}}};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-panel w-full max-w-lg p-8 rounded-[2.5rem] relative overflow-hidden animate-fade-in border border-white/20 shadow-2xl",children:[e.jsxs("button",{onClick:b,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors flex items-center gap-1 text-sm",children:[a==="ar"?e.jsx(c,{className:"w-4 h-4"}):e.jsx(m,{className:"w-4 h-4"}),e.jsx("span",{children:a==="ar"?"العودة":"Back"})]}),e.jsxs("div",{className:"text-center mb-6 mt-4",children:[e.jsx("h2",{className:"text-2xl font-bold text-white mb-2",children:a==="ar"?"سجل اهتمامك":"Register Your Interest"}),e.jsx("p",{className:"text-gray-400 text-sm",children:a==="ar"?"انضم إلى المصطبة العلمية وابدأ رحلة التعلم":"Join Scientific Bench and start your learning journey"})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 mb-6",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-colors ${o>=1?"bg-emerald-600 text-white":"bg-gray-700 text-gray-400"}`,children:"1"}),e.jsx("div",{className:`w-16 h-1 rounded ${o>=2?"bg-emerald-600":"bg-gray-700"}`}),e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-bold transition-colors ${o>=2?"bg-emerald-600 text-white":"bg-gray-700 text-gray-400"}`,children:"2"})]}),p&&e.jsx("div",{className:"bg-red-500/20 border border-red-500/50 rounded-xl p-3 mb-4 text-red-300 text-sm text-center",children:p}),e.jsxs("form",{onSubmit:N,className:"space-y-4",children:[o===1&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"الاسم الكامل":"Full Name"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:r.name,onChange:s=>l("name",s.target.value),placeholder:a==="ar"?"أحمد محمد":"Ahmed Mohamed",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(P,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"البريد الإلكتروني":"Email"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:r.email,onChange:s=>l("email",s.target.value),placeholder:"name@example.com",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(E,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"رقم الواتساب":"WhatsApp Number"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"tel",value:r.whatsapp,onChange:s=>l("whatsapp",s.target.value),placeholder:"+966 5XX XXX XXXX",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(I,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"الدولة":"Country"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r.country,onChange:s=>l("country",s.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white focus:outline-none focus:border-emerald-500 transition-colors appearance-none",children:[e.jsx("option",{value:"",children:a==="ar"?"اختر الدولة":"Select Country"}),F.map((s,n)=>e.jsx("option",{value:a==="ar"?s.ar:s.en,children:a==="ar"?s.ar:s.en},n))]}),e.jsx(A,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("button",{type:"button",onClick:v,className:"w-full py-4 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-bold shadow-lg mt-4 transition-all hover:scale-[1.01] flex items-center justify-center gap-2",children:[e.jsx("span",{children:a==="ar"?"التالي":"Next"}),a==="ar"?e.jsx(m,{className:"w-5 h-5"}):e.jsx(c,{className:"w-5 h-5"})]})]}),o===2&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"العمر":"Age"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",min:"5",max:"100",value:r.age,onChange:s=>l("age",s.target.value),placeholder:"25",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(S,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"الجنس":"Gender"}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl border cursor-pointer transition-colors ${r.gender==="male"?"bg-emerald-600/30 border-emerald-500":"bg-black/30 border-white/10 hover:border-white/30"}`,children:[e.jsx("input",{type:"radio",name:"gender",value:"male",checked:r.gender==="male",onChange:s=>l("gender",s.target.value),className:"hidden"}),e.jsx("span",{className:"text-white",children:a==="ar"?"ذكر":"Male"})]}),e.jsxs("label",{className:`flex-1 flex items-center justify-center gap-2 py-3 px-4 rounded-xl border cursor-pointer transition-colors ${r.gender==="female"?"bg-emerald-600/30 border-emerald-500":"bg-black/30 border-white/10 hover:border-white/30"}`,children:[e.jsx("input",{type:"radio",name:"gender",value:"female",checked:r.gender==="female",onChange:s=>l("gender",s.target.value),className:"hidden"}),e.jsx("span",{className:"text-white",children:a==="ar"?"أنثى":"Female"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"المستوى التعليمي":"Education Level"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{value:r.educationLevel,onChange:s=>l("educationLevel",s.target.value),className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white focus:outline-none focus:border-emerald-500 transition-colors appearance-none",children:[e.jsx("option",{value:"",children:a==="ar"?"اختر المستوى":"Select Level"}),R.map((s,n)=>e.jsx("option",{value:a==="ar"?s.ar:s.en,children:a==="ar"?s.ar:s.en},n))]}),e.jsx(L,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"كلمة المرور":"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:r.password,onChange:s=>l("password",s.target.value),placeholder:"••••••••",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(g,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:a==="ar"?"تأكيد كلمة المرور":"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"password",value:r.confirmPassword,onChange:s=>l("confirmPassword",s.target.value),placeholder:"••••••••",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(g,{className:"absolute right-4 top-3 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"flex gap-3 mt-4",children:[e.jsxs("button",{type:"button",onClick:()=>x(1),className:"flex-1 py-4 rounded-xl bg-gray-700 hover:bg-gray-600 text-white font-bold transition-all flex items-center justify-center gap-2",children:[a==="ar"?e.jsx(c,{className:"w-5 h-5"}):e.jsx(m,{className:"w-5 h-5"}),e.jsx("span",{children:a==="ar"?"السابق":"Previous"})]}),e.jsx("button",{type:"submit",disabled:h,className:"flex-1 py-4 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-bold shadow-lg transition-all hover:scale-[1.01] flex items-center justify-center gap-2 disabled:opacity-50",children:h?e.jsx(X,{className:"w-5 h-5 animate-spin"}):e.jsx("span",{children:a==="ar"?"تسجيل":"Register"})})]})]})]})]})})};export{J as default};
