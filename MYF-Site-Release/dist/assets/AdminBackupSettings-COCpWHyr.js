import{c as f,r as o,y as d,j as e,k as w,C as N,z as b,D as v,b as r}from"./index-B4Yke-v_.js";import{C as y}from"./clock-DXAOTtRl.js";import{H as C}from"./hard-drive-B1XEVWwu.js";import{U as k}from"./upload-D3OHNCZw.js";import{S as B}from"./save-CdAnA48K.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],x=f("cloud",D),R=()=>{var c;const l=o.useRef(null),[a,i]=o.useState([{id:1,name:"نسخة احتياطية كاملة",date:new Date().toLocaleDateString("en-CA")+" 10:30",size:"2.4 MB",status:"success",type:"full"},{id:2,name:"نسخة تلقائية",date:new Date(Date.now()-864e5).toLocaleDateString("en-CA")+" 03:00",size:"1.8 MB",status:"success",type:"auto"}]),m=async()=>{try{await r.downloadBackup();const s={id:Date.now(),name:"نسخة محلية (Database)",date:new Date().toLocaleString("en-CA"),size:"Unknown",status:"success",type:"manual"};i([s,...a]),alert("تم تحميل النسخة الاحتياطية بنجاح")}catch(s){alert("فشل إنشاء النسخة الاحتياطية"),console.error(s)}},h=async()=>{try{const s=await r.uploadCloudBackup();alert(`تم الرفع للسحابة بنجاح! الملف: ${s.key}`);const t={id:Date.now(),name:"نسخة سحابية (S3)",date:new Date().toLocaleString("en-CA"),size:(s.size/1024/1024).toFixed(2)+" MB",status:"success",type:"auto"};i([t,...a])}catch(s){alert("فشل الرفع للسحابة. تأكد من إعدادات S3/R2."),console.error(s)}},u=()=>{var s;confirm("تحذير: استعادة النسخة الاحتياطية ستقوم باستبدال جميع البيانات الحالية. هل أنت متأكد؟")&&((s=l.current)==null||s.click())},p=async s=>{var n;const t=(n=s.target.files)==null?void 0:n[0];if(t){if(confirm("هل أنت متأكد من استعادة هذه النسخة؟ سيتم فقدان التغييرات غير المحفوظة."))try{await r.restoreBackup(t),alert("تم استعادة النسخة الاحتياطية بنجاح! سيتم إعادة تحميل الصفحة."),window.location.reload()}catch(g){alert("فشل استعادة النسخة الاحتياطية"),console.error(g)}l.current&&(l.current.value="")}},j=[{label:"آخر نسخة",value:((c=a[0])==null?void 0:c.date)||"N/A",icon:y,color:"from-emerald-500 to-teal-600"},{label:"حجم التخزين",value:"15.6 MB",icon:C,color:"from-blue-500 to-cyan-600"},{label:"النسخ المحفوظة",value:a.length.toString(),icon:d,color:"from-violet-500 to-purple-600"},{label:"التخزين السحابي",value:"محلي",icon:x,color:"from-amber-500 to-orange-600"}];return e.jsxs("div",{className:"animate-fade-in space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"النسخ الاحتياطي"}),e.jsx("p",{className:"text-gray-300",children:"إدارة النسخ الاحتياطية والاستعادة"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"file",ref:l,className:"hidden",accept:".json",onChange:p}),e.jsxs("button",{onClick:u,className:"px-6 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 flex items-center gap-2",children:[e.jsx(k,{className:"w-5 h-5"}),e.jsx("span",{children:"استعادة"})]}),e.jsxs("button",{onClick:m,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-bold hover:opacity-90 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),e.jsx("span",{children:"تحميل محلي"})]}),e.jsxs("button",{onClick:h,className:"px-6 py-3 bg-gradient-to-r from-blue-500 to-indigo-600 text-white rounded-xl font-bold hover:opacity-90 flex items-center gap-2",children:[e.jsx(x,{className:"w-5 h-5"}),e.jsx("span",{children:"رفع سحابي"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:j.map((s,t)=>e.jsx("div",{className:"glass-panel p-5 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${s.color} flex items-center justify-center`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-white",children:s.value}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.label})]})]})},t))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(w,{className:"w-5 h-5"})," إعدادات النسخ التلقائي"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"النسخ التلقائي"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"نسخ احتياطي يومي الساعة 3 صباحاً"})]}),e.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"التخزين السحابي"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"رفع تلقائي إلى السحابة"})]}),e.jsx("div",{className:"w-12 h-6 bg-gray-600 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-gray-400 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"الاحتفاظ بالنسخ"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"حذف النسخ الأقدم من 30 يوم"})]}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",children:[e.jsx("option",{children:"30 يوم"}),e.jsx("option",{children:"60 يوم"}),e.jsx("option",{children:"90 يوم"})]})]})]})]}),e.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(d,{className:"w-5 h-5"})," النسخ الأخيرة"]}),e.jsx("div",{className:"space-y-3",children:a.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.status==="success"?"bg-emerald-500/20":"bg-red-500/20"}`,children:s.status==="success"?e.jsx(N,{className:"w-5 h-5 text-emerald-400"}):e.jsx(b,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium text-sm",children:s.name}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[s.date," • ",s.size]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("button",{className:"p-2 rounded-lg bg-white/5 text-gray-400 hover:text-white",children:e.jsx(v,{className:"w-4 h-4"})})})]},s.id))})]})]})]})};export{R as default};
