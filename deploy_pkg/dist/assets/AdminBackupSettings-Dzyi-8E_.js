import{c as b,r as x,x as m,j as e,h as N,y as v,D as y,a as h}from"./index-CEBuFF1J.js";import{C}from"./clock-BCeuwlFT.js";import{H as k}from"./hard-drive-rjS-50vd.js";import{U as D}from"./upload-DFM7T2Wx.js";import{S as B}from"./save-DolBYT3x.js";import{C as S}from"./circle-check-big-DEbq-W9B.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],L=b("cloud",R),H=()=>{var n;const c=x.useRef(null),[i,p]=x.useState([{id:1,name:"نسخة احتياطية كاملة",date:new Date().toLocaleDateString("en-CA")+" 10:30",size:"2.4 MB",status:"success",type:"full"},{id:2,name:"نسخة تلقائية",date:new Date(Date.now()-864e5).toLocaleDateString("en-CA")+" 03:00",size:"1.8 MB",status:"success",type:"auto"}]),u=()=>{const s=h.createBackup(),a=new Blob([s],{type:"application/json"}),l=URL.createObjectURL(a),t=document.createElement("a");t.href=l,t.download=`mastaba-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(t),t.click(),document.body.removeChild(t),URL.revokeObjectURL(l);const r={id:Date.now(),name:"نسخة يدوية جديدة",date:new Date().toLocaleString("en-CA"),size:(a.size/1024).toFixed(2)+" KB",status:"success",type:"manual"};p([r,...i])},j=()=>{var s;confirm("تحذير: استعادة النسخة الاحتياطية ستقوم باستبدال جميع البيانات الحالية. هل أنت متأكد؟")&&((s=c.current)==null||s.click())},g=s=>{var t;const a=(t=s.target.files)==null?void 0:t[0];if(!a)return;const l=new FileReader;l.onload=r=>{var o;const d=(o=r.target)==null?void 0:o.result;if(d)try{h.restoreBackup(d),alert("تم استعادة النسخة الاحتياطية بنجاح! سيتم إعادة تحميل الصفحة."),window.location.reload()}catch(w){alert("فشل استعادة النسخة الاحتياطية: ملف غير صالح"),console.error(w)}},l.readAsText(a)},f=[{label:"آخر نسخة",value:((n=i[0])==null?void 0:n.date)||"N/A",icon:C,color:"from-emerald-500 to-teal-600"},{label:"حجم التخزين",value:"15.6 MB",icon:k,color:"from-blue-500 to-cyan-600"},{label:"النسخ المحفوظة",value:i.length.toString(),icon:m,color:"from-violet-500 to-purple-600"},{label:"التخزين السحابي",value:"محلي",icon:L,color:"from-amber-500 to-orange-600"}];return e.jsxs("div",{className:"animate-fade-in space-y-6",children:[e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:"النسخ الاحتياطي"}),e.jsx("p",{className:"text-gray-300",children:"إدارة النسخ الاحتياطية والاستعادة"})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx("input",{type:"file",ref:c,className:"hidden",accept:".json",onChange:g}),e.jsxs("button",{onClick:j,className:"px-6 py-3 bg-white/5 border border-white/10 text-white rounded-xl font-bold hover:bg-white/10 flex items-center gap-2",children:[e.jsx(D,{className:"w-5 h-5"}),e.jsx("span",{children:"استعادة"})]}),e.jsxs("button",{onClick:u,className:"px-6 py-3 bg-gradient-to-r from-emerald-500 to-teal-600 text-white rounded-xl font-bold hover:opacity-90 flex items-center gap-2",children:[e.jsx(B,{className:"w-5 h-5"}),e.jsx("span",{children:"نسخ الآن"})]})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:f.map((s,a)=>e.jsx("div",{className:"glass-panel p-5 rounded-2xl",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl bg-gradient-to-br ${s.color} flex items-center justify-center`,children:e.jsx(s.icon,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xl font-bold text-white",children:s.value}),e.jsx("p",{className:"text-gray-400 text-sm",children:s.label})]})]})},a))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(N,{className:"w-5 h-5"})," إعدادات النسخ التلقائي"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"النسخ التلقائي"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"نسخ احتياطي يومي الساعة 3 صباحاً"})]}),e.jsx("div",{className:"w-12 h-6 bg-emerald-500 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-white rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"التخزين السحابي"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"رفع تلقائي إلى السحابة"})]}),e.jsx("div",{className:"w-12 h-6 bg-gray-600 rounded-full relative cursor-pointer",children:e.jsx("div",{className:"absolute left-1 top-1 w-4 h-4 bg-gray-400 rounded-full"})})]}),e.jsxs("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"الاحتفاظ بالنسخ"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"حذف النسخ الأقدم من 30 يوم"})]}),e.jsxs("select",{className:"bg-white/5 border border-white/10 rounded-lg px-3 py-2 text-white text-sm",children:[e.jsx("option",{children:"30 يوم"}),e.jsx("option",{children:"60 يوم"}),e.jsx("option",{children:"90 يوم"})]})]})]})]}),e.jsxs("div",{className:"glass-panel p-6 rounded-2xl",children:[e.jsxs("h3",{className:"text-xl font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx(m,{className:"w-5 h-5"})," النسخ الأخيرة"]}),e.jsx("div",{className:"space-y-3",children:i.map(s=>e.jsxs("div",{className:"flex items-center gap-4 p-3 bg-white/5 rounded-xl hover:bg-white/10 transition-colors",children:[e.jsx("div",{className:`w-10 h-10 rounded-lg flex items-center justify-center ${s.status==="success"?"bg-emerald-500/20":"bg-red-500/20"}`,children:s.status==="success"?e.jsx(S,{className:"w-5 h-5 text-emerald-400"}):e.jsx(v,{className:"w-5 h-5 text-red-400"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-white font-medium text-sm",children:s.name}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[s.date," • ",s.size]})]}),e.jsx("div",{className:"flex items-center gap-1",children:e.jsx("button",{className:"p-2 rounded-lg bg-white/5 text-gray-400 hover:text-white",children:e.jsx(y,{className:"w-4 h-4"})})})]},s.id))})]})]})]})};export{H as default};
