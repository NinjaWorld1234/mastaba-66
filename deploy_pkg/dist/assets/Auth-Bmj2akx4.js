import{c as j,b as y,r as o,j as e,U as N}from"./index-CEBuFF1J.js";import{A as w}from"./arrow-right-BuK3eZ8K.js";import{M as v}from"./mail-jGcqzQIi.js";import{L as k}from"./lock-rfZM38VG.js";import{E as C}from"./eye-BPUGLi72.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],S=j("eye-off",E),U=({initialView:s,onLoginSuccess:n,onBack:x,onToggleView:h,onVerificationRequired:d})=>{const{login:u}=y(),[c,p]=o.useState(!1),[i,a]=o.useState(!1),[r,b]=o.useState(""),[m,f]=o.useState(""),g=async t=>{if(t.preventDefault(),a(!0),s==="login")try{await u(r,m)?n():(a(!1),alert("بيانات الدخول غير صحيحة"))}catch(l){a(!1),l.needsVerification&&d?d(l.email||r):alert(l.messageAr||"حدث خطأ أثناء تسجيل الدخول")}else setTimeout(()=>{a(!1),r.toLowerCase().includes("admin"),n()},1500)};return e.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:e.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-[2.5rem] relative overflow-hidden animate-fade-in border border-white/20 shadow-2xl",children:[e.jsxs("button",{onClick:x,className:"absolute top-6 right-6 text-gray-400 hover:text-white transition-colors flex items-center gap-1 text-sm",children:[e.jsx(w,{className:"w-4 h-4"}),e.jsx("span",{children:"العودة"})]}),e.jsxs("div",{className:"text-center mb-8 mt-4",children:[e.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:s==="login"?"أهلاً بعودتك":"انضم إلينا"}),e.jsx("p",{className:"text-gray-400 text-sm",children:s==="login"?"استكمل رحلتك المعرفية في المصطبة العلمية":"ابدأ رحلة العلم والبناء المعرفي اليوم"})]}),e.jsxs("form",{onSubmit:g,className:"space-y-4",children:[s==="signup"&&e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"الاسم الكامل"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",placeholder:"أحمد محمد",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(N,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"البريد الإلكتروني"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"email",value:r,onChange:t=>b(t.target.value),placeholder:"name@example.com (use 'admin' for admin view)",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-4 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(v,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("label",{className:"text-xs text-gray-400 mr-2",children:"كلمة المرور"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:c?"text":"password",value:m,onChange:t=>f(t.target.value),placeholder:"••••••••",className:"w-full bg-black/30 border border-white/10 rounded-xl py-3.5 pr-12 pl-12 text-white placeholder-gray-500 focus:outline-none focus:border-emerald-500 transition-colors"}),e.jsx(k,{className:"absolute right-4 top-3.5 text-gray-400 w-5 h-5"}),e.jsx("button",{type:"button",onClick:()=>p(!c),className:"absolute left-4 top-3.5 text-gray-400 hover:text-white focus:outline-none",children:c?e.jsx(S,{className:"w-5 h-5"}):e.jsx(C,{className:"w-5 h-5"})})]})]}),s==="login"&&e.jsxs("div",{className:"flex items-center justify-between text-xs pt-1",children:[e.jsxs("label",{className:"flex items-center gap-2 text-gray-400 cursor-pointer hover:text-gray-300",children:[e.jsxs("div",{className:"w-4 h-4 rounded border border-gray-600 flex items-center justify-center peer-checked:bg-emerald-500 peer-checked:border-emerald-500",children:[e.jsx("input",{type:"checkbox",className:"hidden"}),e.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-sm"})]}),e.jsx("span",{children:"تذكرني"})]}),e.jsx("a",{href:"#",className:"text-gold-500 hover:text-gold-400",children:"نسيت كلمة المرور؟"})]}),e.jsx("button",{type:"submit",disabled:i,className:"w-full py-4 rounded-xl bg-emerald-600 hover:bg-emerald-500 text-white font-bold shadow-lg shadow-emerald-900/20 mt-4 transition-all hover:scale-[1.01] flex items-center justify-center gap-2",children:i?e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}):e.jsx("span",{children:s==="login"?"تسجيل الدخول":"إنشاء حساب"})})]}),e.jsx("div",{className:"mt-8 text-center",children:e.jsxs("p",{className:"text-gray-400 text-sm",children:[s==="login"?"ليس لديك حساب؟":"لديك حساب بالفعل؟",e.jsx("button",{onClick:()=>h(s==="login"?"signup":"login"),className:"text-emerald-400 hover:text-emerald-300 font-bold mr-2 underline decoration-emerald-500/30 underline-offset-4",children:s==="login"?"سجل الآن":"سجل دخولك"})]})})]})})};export{U as default};
