import{c as u,r as t,u as v,j as e,T as w,a as N}from"./index-CEBuFF1J.js";import{S as y,B as k}from"./constants-DzmWXS7f.js";import{T as C}from"./target-CdZi--9d.js";import{P as x}from"./play-tDSqt2t_.js";import{R as $}from"./CategoricalChart--cKqaEBA.js";import{P as D,a as E}from"./PieChart-dacxs7Kl.js";import{C as z}from"./PolarChart-CH3A7T6c.js";import"./book-cjo8werz.js";/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],M=u("trophy",R);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],p=u("zap",S),f=t.memo(({badge:r})=>e.jsxs("div",{className:`group relative flex flex-col items-center justify-center p-3 rounded-xl transition-all duration-300 cursor-pointer ${r.isUnlocked?"bg-gradient-to-b from-white/10 to-transparent border border-emerald-500/20 hover:border-emerald-500/50":"bg-white/5 opacity-40 grayscale"}`,role:"listitem","aria-label":`${r.title} - ${r.isUnlocked?"Unlocked":"Locked"}`,children:[e.jsxs("div",{className:"w-8 h-8 relative flex items-center justify-center mb-2",children:[e.jsx(r.icon,{className:`w-5 h-5 ${r.isUnlocked?"text-emerald-400":"text-gray-400"}`,"aria-hidden":"true"}),r.isUnlocked&&e.jsx("div",{className:"absolute inset-0 bg-emerald-400/20 blur-md rounded-full"})]}),e.jsx("h4",{className:"font-bold text-[9px] text-center text-gray-300 truncate w-full",children:r.title})]}));f.displayName="BadgeItem";const g=t.memo(({course:r,language:i,onPlay:a})=>{const h=t.useCallback(()=>a(r),[r,a]),c=t.useCallback(o=>{(o.key==="Enter"||o.key===" ")&&(o.preventDefault(),a(r))},[r,a]);return e.jsxs("div",{className:"glass-panel p-3 rounded-xl flex gap-3 items-center group cursor-pointer glass-card-hover relative overflow-hidden bg-[#0a1f1c] hover:bg-[#0f2e29] border border-white/5",onClick:h,onKeyDown:c,role:"button",tabIndex:0,"aria-label":`${i==="ar"?r.title:r.titleEn} - ${r.progress}% complete`,children:[e.jsx("div",{className:"absolute bottom-0 left-0 h-0.5 bg-emerald-500/20 w-full","aria-hidden":"true",children:e.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${r.progress}%`}})}),e.jsxs("div",{className:"relative w-16 h-16 flex-shrink-0 rounded-lg overflow-hidden border border-white/10 shadow-md",children:[e.jsx("img",{src:r.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/40 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx(x,{className:"w-6 h-6 text-white fill-current opacity-80","aria-hidden":"true"})})]}),e.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[e.jsx("span",{className:"text-[9px] font-bold text-emerald-400 mb-0.5 block",children:i==="ar"?r.category:r.categoryEn}),e.jsx("h4",{className:"font-bold text-white text-sm truncate leading-tight mb-1 group-hover:text-emerald-300 transition-colors",children:i==="ar"?r.title:r.titleEn}),e.jsx("p",{className:"text-[10px] text-gray-400 truncate flex items-center gap-1",children:i==="ar"?r.instructor:r.instructorEn})]}),e.jsx("div",{className:"flex flex-col items-end justify-center pl-2 border-l border-white/5 h-full",children:e.jsxs("span",{className:"text-[10px] font-bold text-white",children:[r.progress,"%"]})})]})});g.displayName="CourseCard";const A=t.memo(({onPlayCourse:r,setActiveTab:i})=>{const{t:a,language:h}=v(),[c,o]=t.useState([]);t.useEffect(()=>{(async()=>{try{const l=await N.getCourses();o(Array.isArray(l)?l:[])}catch(l){console.error("Failed to load courses:",l),o([])}})()},[]);const d=t.useCallback(s=>{i==null||i(s)},[i]),n=t.useCallback(s=>l=>{(l.key==="Enter"||l.key===" ")&&(l.preventDefault(),d(s))},[d]),m=t.useMemo(()=>[{name:"Completed",value:68},{name:"Remaining",value:32}],[]),b=t.useMemo(()=>["#10b981","rgba(255,255,255,0.1)"],[]),j=t.useMemo(()=>c.slice(0,4),[c]);return e.jsxs("div",{className:"space-y-6 animate-fade-in pb-10 relative",role:"main","aria-label":a("dashboard.title")||"Dashboard",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",role:"region","aria-label":a("dashboard.stats")||"Statistics",children:[e.jsxs("div",{onClick:()=>d("profile"),onKeyDown:n("profile"),className:"glass-panel-gold rounded-2xl p-4 relative overflow-hidden group bg-gradient-to-l from-[#451d03] to-[#78350f] cursor-pointer",role:"button",tabIndex:0,"aria-label":`${a("dashboard.knowledgePoints")} - 1,250`,children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] opacity-10","aria-hidden":"true"}),e.jsx("div",{className:"absolute -left-4 -bottom-4 w-20 h-20 bg-gold-500 rounded-full blur-[40px] opacity-40","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("p",{className:"text-gold-200 text-[10px] font-bold uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(y,{className:"w-3 h-3 fill-gold-500 text-gold-500","aria-hidden":"true"}),a("dashboard.knowledgePoints")]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-black text-white gold-glow font-serif",children:"1,250"}),e.jsx("span",{className:"text-[10px] text-gold-400 font-bold bg-black/30 px-1.5 py-0.5 rounded border border-gold-500/30",children:"+150"})]})]}),e.jsx("div",{className:"w-12 h-12 relative flex items-center justify-center bg-gradient-to-br from-gold-400 to-yellow-600 rounded-xl shadow-lg shadow-gold-900/50 transform group-hover:rotate-6 transition-transform","aria-hidden":"true",children:e.jsx(M,{className:"w-6 h-6 text-[#451d03]"})})]})]}),e.jsxs("div",{onClick:()=>d("profile"),onKeyDown:n("profile"),className:"glass-panel rounded-2xl p-4 relative overflow-hidden group bg-gradient-to-l from-[#064e3b] to-[#065f46] border-emerald-500/30 cursor-pointer",role:"button",tabIndex:0,"aria-label":`${a("dashboard.globalRank")} - ${a("dashboard.top5Percent")}`,children:[e.jsx("div",{className:"mashrabiya-pattern absolute inset-0 opacity-10","aria-hidden":"true"}),e.jsx("div",{className:"absolute -right-4 -top-4 w-20 h-20 bg-emerald-400 rounded-full blur-[40px] opacity-30","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("p",{className:"text-emerald-200 text-[10px] font-bold uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(w,{className:"w-3 h-3 text-emerald-400","aria-hidden":"true"}),a("dashboard.globalRank")]}),e.jsx("div",{className:"flex items-baseline gap-2",children:e.jsx("h3",{className:"text-2xl font-black text-white font-serif",children:a("dashboard.top5Percent")})}),e.jsx("span",{className:"text-[10px] text-emerald-300/80 mt-0.5",children:a("dashboard.regionalRank")})]}),e.jsx("div",{className:"w-12 h-12 relative flex items-center justify-center bg-gradient-to-br from-emerald-400 to-teal-600 rounded-xl shadow-lg shadow-emerald-900/50 transform group-hover:-rotate-6 transition-transform","aria-hidden":"true",children:e.jsx(C,{className:"w-6 h-6 text-[#022c22]"})})]})]}),e.jsxs("div",{onClick:()=>d("daily-tracking"),onKeyDown:n("daily-tracking"),className:"glass-panel rounded-2xl p-4 relative overflow-hidden group bg-gradient-to-l from-[#1e1b4b] to-[#312e81] border-indigo-500/30 cursor-pointer",role:"button",tabIndex:0,"aria-label":`${a("dashboard.learningStreak")} - 12 ${a("dashboard.daysStreak")}`,children:[e.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/hexellence.png')] opacity-10","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 flex items-center justify-between h-full",children:[e.jsxs("div",{className:"flex flex-col justify-center",children:[e.jsxs("p",{className:"text-indigo-200 text-[10px] font-bold uppercase tracking-wider mb-1 flex items-center gap-1",children:[e.jsx(p,{className:"w-3 h-3 text-indigo-400 fill-current","aria-hidden":"true"}),a("dashboard.learningStreak")]}),e.jsxs("div",{className:"flex items-baseline gap-2",children:[e.jsx("h3",{className:"text-3xl font-black text-white font-serif",children:"12"}),e.jsx("span",{className:"text-xs font-medium text-indigo-300",children:a("dashboard.daysStreak")})]})]}),e.jsxs("div",{className:"w-12 h-12 relative flex items-center justify-center bg-gradient-to-br from-indigo-400 to-purple-600 rounded-xl shadow-lg shadow-indigo-900/50 transform group-hover:scale-110 transition-transform","aria-hidden":"true",children:[e.jsx("div",{className:"w-1.5 h-1.5 bg-white rounded-full absolute top-2 right-2 animate-ping"}),e.jsx(p,{className:"w-6 h-6 text-[#1e1b4b] fill-current"})]})]})]})]}),e.jsxs("div",{className:"glass-panel p-5 rounded-2xl relative overflow-hidden bg-white/5 border border-white/10",role:"region","aria-label":a("dashboard.latestAchievements"),children:[e.jsx("div",{className:"corner-ornament-complex corner-tl w-10 h-10 opacity-30","aria-hidden":"true"}),e.jsxs("div",{className:"flex items-center justify-between mb-4 relative z-10",children:[e.jsxs("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[e.jsx("span",{className:"w-1 h-5 bg-gold-500 rounded-full","aria-hidden":"true"}),a("dashboard.latestAchievements")]}),e.jsx("button",{onClick:()=>d("profile"),className:"text-[10px] text-emerald-400 hover:text-emerald-300 font-bold","aria-label":a("dashboard.viewAll"),children:a("dashboard.viewAll")})]}),e.jsx("div",{className:"grid grid-cols-4 md:grid-cols-7 gap-3 relative z-10",role:"list","aria-label":"Achievements",children:k.map(s=>e.jsx(f,{badge:s},s.id))})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-4",role:"region","aria-label":a("dashboard.continueLearning"),children:[e.jsxs("div",{className:"flex items-center justify-between px-1",children:[e.jsxs("h3",{className:"text-base font-bold text-white flex items-center gap-2",children:[e.jsx("div",{className:"p-1 rounded bg-emerald-500/20 border border-emerald-500/30","aria-hidden":"true",children:e.jsx(x,{className:"w-3 h-3 text-emerald-400 fill-current"})}),a("dashboard.continueLearning")]}),e.jsx("button",{onClick:()=>d("library"),className:"text-[10px] font-bold text-gray-400 hover:text-white","aria-label":a("dashboard.fullLibrary"),children:a("dashboard.fullLibrary")})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:j.map(s=>e.jsx(g,{course:s,language:h,onPlay:r},s.id))})]}),e.jsxs("div",{className:"space-y-4",role:"complementary",children:[e.jsxs("div",{onClick:()=>d("progress"),onKeyDown:n("progress"),className:"glass-panel rounded-2xl p-4 flex items-center justify-between relative overflow-hidden group bg-gradient-to-br from-[#064e3b] to-[#022c22] cursor-pointer",role:"button",tabIndex:0,"aria-label":`${a("dashboard.courseProgress")} - 68% ${a("dashboard.completed")}`,children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-xs font-bold text-gray-300 mb-1 group-hover:text-emerald-300 transition-colors",children:a("dashboard.courseProgress")}),e.jsxs("div",{className:"flex items-baseline gap-1",children:[e.jsx("span",{className:"text-2xl font-black text-white",children:"68%"}),e.jsx("span",{className:"text-[10px] text-emerald-400",children:a("dashboard.completed")})]})]}),e.jsx("div",{className:"w-16 h-16 relative","aria-hidden":"true",children:e.jsx($,{width:"100%",height:"100%",children:e.jsx(D,{children:e.jsx(E,{data:m,innerRadius:20,outerRadius:30,startAngle:90,endAngle:-270,dataKey:"value",stroke:"none",children:m.map((s,l)=>e.jsx(z,{fill:b[l%b.length],cornerRadius:4},`cell-${l}`))})})})})]}),e.jsxs("div",{onClick:()=>d("courses"),onKeyDown:n("courses"),className:"glass-panel p-0 rounded-2xl relative overflow-hidden group cursor-pointer border-t border-white/10",role:"button",tabIndex:0,"aria-label":`${a("dashboard.liveEvent")} - ${a("dashboard.fiqhCouncil")}`,children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-emerald-800 via-teal-900 to-cyan-950 opacity-60 group-hover:opacity-70 transition-opacity","aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black via-black/50 to-transparent","aria-hidden":"true"}),e.jsxs("div",{className:"relative z-10 p-4",children:[e.jsx("div",{className:"flex justify-between items-start mb-6",children:e.jsxs("span",{className:"flex items-center gap-1.5 text-[9px] font-bold bg-red-600/90 text-white px-2 py-0.5 rounded backdrop-blur-sm animate-pulse","aria-live":"polite",children:[e.jsx("span",{className:"w-1.5 h-1.5 bg-white rounded-full","aria-hidden":"true"})," ",a("dashboard.liveEvent")]})}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-bold text-white text-sm mb-1 text-shadow-sm",children:a("dashboard.fiqhCouncil")}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("p",{className:"text-[10px] text-gray-300",children:a("dashboard.sheikhName")}),e.jsx("div",{className:"w-8 h-8 rounded-full bg-white/10 backdrop-blur-md flex items-center justify-center border border-white/20 group-hover:bg-emerald-500 group-hover:text-white transition-colors","aria-hidden":"true",children:e.jsx(x,{className:"w-3 h-3 fill-current"})})]})]})]})]})]})]})]})});A.displayName="Dashboard";export{A as default};
